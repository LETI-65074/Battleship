


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > Ship</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">iscteiul.ista.battleship</a>
</div>

<h1>Coverage Summary for Class: Ship (iscteiul.ista.battleship)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Ship</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (17/17)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (51/51)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (64/64)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Ship$TestShip</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (2/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/4)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (19/19)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (51/51)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (68/68)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/**
&nbsp; * Base abstract class for all ship types. Provides common utilities for
&nbsp; * position management, collision and adjacency checks and applying shots.
&nbsp; */
&nbsp;package iscteiul.ista.battleship;
&nbsp;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Iterator;
&nbsp;import java.util.List;
&nbsp;
&nbsp;/**
&nbsp; * Base abstract class for all ship types. Provides common utilities for
&nbsp; * position management, collision and adjacency checks and applying shots.
&nbsp; */
<b class="fc">&nbsp;public abstract class Ship implements IShip {</b>
&nbsp;
&nbsp;    private static final String GALEAO = &quot;galeao&quot;;
&nbsp;    private static final String FRAGATA = &quot;fragata&quot;;
&nbsp;    private static final String NAU = &quot;nau&quot;;
&nbsp;    private static final String CARAVELA = &quot;caravela&quot;;
&nbsp;    private static final String BARCA = &quot;barca&quot;;
&nbsp;
&nbsp;    /**
&nbsp;     * Factory method to create specific Ship implementations by category name.
&nbsp;     *
&nbsp;     * @param shipKind category name (e.g. &quot;caravela&quot;)
&nbsp;     * @param bearing  orientation
&nbsp;     * @param pos      reference position
&nbsp;     * @return created Ship instance or null if unknown category
&nbsp;     */
&nbsp;    static Ship buildShip(String shipKind, Compass bearing, Position pos) {
&nbsp;        Ship s;
<b class="fc">&nbsp;        switch (shipKind) {</b>
&nbsp;            case BARCA:
<b class="fc">&nbsp;                s = new Barge(bearing, pos);</b>
&nbsp;                break;
&nbsp;            case CARAVELA:
<b class="fc">&nbsp;                s = new Caravel(bearing, pos);</b>
&nbsp;                break;
&nbsp;            case NAU:
<b class="fc">&nbsp;                s = new Carrack(bearing, pos);</b>
&nbsp;                break;
&nbsp;            case FRAGATA:
<b class="fc">&nbsp;                s = new Frigate(bearing, pos);</b>
&nbsp;                break;
&nbsp;            case GALEAO:
<b class="fc">&nbsp;                s = new Galleon(bearing, pos);</b>
&nbsp;                break;
&nbsp;            default:
<b class="fc">&nbsp;                s = null;</b>
&nbsp;        }
<b class="fc">&nbsp;        return s;</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    private String category;
&nbsp;    private Compass bearing;
&nbsp;    private IPosition pos;
&nbsp;    protected List&lt;IPosition&gt; positions;
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Create a Ship with the given category, bearing and reference position.
&nbsp;     * Subclasses should populate {@link #positions} accordingly.
&nbsp;     *
&nbsp;     * @param category ship category
&nbsp;     * @param bearing  ship bearing (must not be null)
&nbsp;     * @param pos      reference position (must not be null)
&nbsp;     */
<b class="fc">&nbsp;    public Ship(String category, Compass bearing, IPosition pos) {</b>
<b class="fc">&nbsp;        assert bearing != null;</b>
<b class="fc">&nbsp;        assert pos != null;</b>
&nbsp;
<b class="fc">&nbsp;        this.category = category;</b>
<b class="fc">&nbsp;        this.bearing = bearing;</b>
<b class="fc">&nbsp;        this.pos = pos;</b>
<b class="fc">&nbsp;        positions = new ArrayList&lt;&gt;();</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#getCategory()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public String getCategory() {
<b class="fc">&nbsp;        return category;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * @return the positions
&nbsp;     */
&nbsp;    public List&lt;IPosition&gt; getPositions() {
<b class="fc">&nbsp;        return positions;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#getPosition()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public IPosition getPosition() {
<b class="fc">&nbsp;        return pos;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#getBearing()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public Compass getBearing() {
<b class="fc">&nbsp;        return bearing;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#stillFloating()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public boolean stillFloating() {
<b class="fc">&nbsp;        for (int i = 0; i &lt; getSize(); i++)</b>
<b class="fc">&nbsp;            if (!getPositions().get(i).isHit())</b>
<b class="fc">&nbsp;                return true;</b>
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#getTopMostPos()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public int getTopMostPos() {
<b class="fc">&nbsp;        int top = getPositions().get(0).getRow();</b>
<b class="fc">&nbsp;        for (int i = 1; i &lt; getSize(); i++)</b>
<b class="fc">&nbsp;            if (getPositions().get(i).getRow() &lt; top)</b>
<b class="fc">&nbsp;                top = getPositions().get(i).getRow();</b>
<b class="fc">&nbsp;        return top;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#getBottomMostPos()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public int getBottomMostPos() {
<b class="fc">&nbsp;        int bottom = getPositions().get(0).getRow();</b>
<b class="fc">&nbsp;        for (int i = 1; i &lt; getSize(); i++)</b>
<b class="fc">&nbsp;            if (getPositions().get(i).getRow() &gt; bottom)</b>
<b class="fc">&nbsp;                bottom = getPositions().get(i).getRow();</b>
<b class="fc">&nbsp;        return bottom;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#getLeftMostPos()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public int getLeftMostPos() {
<b class="fc">&nbsp;        int left = getPositions().get(0).getColumn();</b>
<b class="fc">&nbsp;        for (int i = 1; i &lt; getSize(); i++)</b>
<b class="fc">&nbsp;            if (getPositions().get(i).getColumn() &lt; left)</b>
<b class="fc">&nbsp;                left = getPositions().get(i).getColumn();</b>
<b class="fc">&nbsp;        return left;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#getRightMostPos()
&nbsp;     */
&nbsp;    @Override
&nbsp;    public int getRightMostPos() {
<b class="fc">&nbsp;        int right = getPositions().get(0).getColumn();</b>
<b class="fc">&nbsp;        for (int i = 1; i &lt; getSize(); i++)</b>
<b class="fc">&nbsp;            if (getPositions().get(i).getColumn() &gt; right)</b>
<b class="fc">&nbsp;                right = getPositions().get(i).getColumn();</b>
<b class="fc">&nbsp;        return right;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#occupies(battleship.IPosition)
&nbsp;     */
&nbsp;    @Override
&nbsp;    public boolean occupies(IPosition pos) {
<b class="fc">&nbsp;        assert pos != null;</b>
&nbsp;
<b class="fc">&nbsp;        for (int i = 0; i &lt; getSize(); i++)</b>
<b class="fc">&nbsp;            if (getPositions().get(i).equals(pos))</b>
<b class="fc">&nbsp;                return true;</b>
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#tooCloseTo(battleship.IShip)
&nbsp;     */
&nbsp;    @Override
&nbsp;    public boolean tooCloseTo(IShip other) {
<b class="fc">&nbsp;        assert other != null;</b>
&nbsp;
<b class="fc">&nbsp;        Iterator&lt;IPosition&gt; otherPos = other.getPositions().iterator();</b>
<b class="fc">&nbsp;        while (otherPos.hasNext())</b>
<b class="fc">&nbsp;            if (tooCloseTo(otherPos.next()))</b>
<b class="fc">&nbsp;                return true;</b>
&nbsp;
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#tooCloseTo(battleship.IPosition)
&nbsp;     */
&nbsp;    @Override
&nbsp;    public boolean tooCloseTo(IPosition pos) {
<b class="fc">&nbsp;        for (int i = 0; i &lt; this.getSize(); i++)</b>
<b class="fc">&nbsp;            if (getPositions().get(i).isAdjacentTo(pos))</b>
<b class="fc">&nbsp;                return true;</b>
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    /*
&nbsp;     * (non-Javadoc)
&nbsp;     *
&nbsp;     * @see battleship.IShip#shoot(battleship.IPosition)
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void shoot(IPosition pos) {
<b class="fc">&nbsp;        assert pos != null;</b>
&nbsp;
<b class="fc">&nbsp;        for (IPosition position : getPositions()) {</b>
<b class="fc">&nbsp;            if (position.equals(pos))</b>
<b class="fc">&nbsp;                position.shoot();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    @Override
&nbsp;    public String toString() {
<b class="fc">&nbsp;        return &quot;[&quot; + category + &quot; &quot; + bearing + &quot; &quot; + pos + &quot;]&quot;;</b>
&nbsp;    }
&nbsp;
&nbsp;    static class TestShip extends Ship {
&nbsp;
&nbsp;        private final int size;
&nbsp;
&nbsp;        TestShip(List&lt;IPosition&gt; positions) {
<b class="fc">&nbsp;            super(&quot;test&quot;, Compass.NORTH, positions.get(0));</b>
<b class="fc">&nbsp;            this.positions = new java.util.ArrayList&lt;&gt;(positions);</b>
<b class="fc">&nbsp;            this.size = this.positions.size();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public Integer getSize() {
<b class="fc">&nbsp;            return size;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-11-21 19:41</div>
</div>
</body>
</html>
